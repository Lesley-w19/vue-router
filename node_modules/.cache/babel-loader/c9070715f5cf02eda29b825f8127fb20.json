{"ast":null,"code":"import axios from \"axios\"; // import console from \"console\";\n\nimport { mapActions } from \"vuex\"; // this.$store.getters\n\nexport default {\n  name: \"LoginSection\",\n  data: () => {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      }\n    };\n  },\n  methods: { ...mapActions([\"setUser\", \"setToken\"]),\n\n    async login() {\n      // console.log(this.username, this.password);\n      const response = await axios.post(\"http://localhost:4000/users/authenticate\", this.loginForm).then(data => console.log(data)).catch(err => console.log(err));\n\n      try {\n        const response = await axios.post(\"http://localhost:4000/users/authenticate\", this.loginForm);\n        const {\n          username,\n          token\n        } = await response.data; // console.log(username, token);\n\n        this.setUser(username);\n        this.setToken(token);\n        this.$router.push(\"/home\"); // this.$router.push(`/home/${username}`);\n        // this.$router.push(`/home/`, );\n      } catch (error) {\n        // console.error(error)\n        console.log(\"iko njee\");\n      }\n    }\n\n  },\n  computed: {}\n};","map":{"version":3,"mappings":"AAmBA,0B,CACA;;AACA,kC,CAEA;;AACA;EACAA,oBADA;EAEAC;IACA;MACAC;QACAC,YADA;QAEAC;MAFA;IADA;EAMA,CATA;EAUAC,WACA,sCADA;;IAEA;MACA;MACA,6BACAC,IADA,CACA,0CADA,EACA,cADA,EAEAC,IAFA,CAEAN,yBAFA,EAGAO,KAHA,CAGAC,uBAHA;;MAKA;QACA,kCACA,0CADA,EAEA,cAFA;QAIA;UAAAN;UAAAO;QAAA,wBALA,CAMA;;QAEA;QACA;QAEA,2BAXA,CAYA;QACA;MACA,CAdA,CAcA;QACA;QACAC;MACA;IACA;;EA3BA,CAVA;EAuCAC;AAvCA","names":["name","data","loginForm","username","password","methods","post","then","catch","err","token","console","computed"],"sourceRoot":"src/views","sources":["Login.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <h1>LOGIN</h1>\n    <form @submit.prevent=\"login\">\n      <input v-model=\"loginForm.username\" placeholder=\"username\" />\n      <br />\n      <br />\n      <input\n        v-model=\"loginForm.password\"\n        placeholder=\"password\"\n        type=\"password\"\n      />\n      <br />\n      <br />\n      <button type=\"submit\">Login</button>\n    </form>\n  </div>\n</template>\n<script>\nimport axios from \"axios\";\n// import console from \"console\";\nimport { mapActions } from \"vuex\";\n\n// this.$store.getters\nexport default {\n  name: \"LoginSection\",\n  data: () => {\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\",\n      },\n    };\n  },\n  methods: {\n    ...mapActions([\"setUser\", \"setToken\"]),\n    async login() {\n      // console.log(this.username, this.password);\n      const response = await axios\n        .post(\"http://localhost:4000/users/authenticate\", this.loginForm)\n        .then((data) => console.log(data))\n        .catch((err) => console.log(err));\n\n      try {\n        const response = await axios.post(\n          \"http://localhost:4000/users/authenticate\",\n          this.loginForm\n        );\n        const { username, token } = await response.data;\n        // console.log(username, token);\n\n        this.setUser(username);\n        this.setToken(token);\n\n        this.$router.push(\"/home\");\n        // this.$router.push(`/home/${username}`);\n        // this.$router.push(`/home/`, );\n      } catch (error) {\n        // console.error(error)\n        console.log(\"iko njee\");\n      }\n    },\n  },\n  computed: {},\n};\n</script>\n"]},"metadata":{},"sourceType":"module"}